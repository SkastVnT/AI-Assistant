Công ngh? và Mô hình can c?
Ð? xây d?ng công c? ch?nh s?a ?nh anime tuong t? Grok Edit Image, c?n dùng các mô hình và thu vi?n AI sáng t?o ?nh. Du?i dây là nh?ng gi?i pháp n?i b?t:
* Waifu Diffusion (GitHub, AGPL-3.0): là m?t b?n stable-diffusion du?c fine-tune trên hình anime[1]. Thu vi?n mã ngu?n m? (AGPL-3.0) và tr?ng s? mô hình (CreativeML OpenRAIL-M) cho phép t? do sáng t?o ?nh anime ch?t lu?ng cao[2]. Ðây là ví d? ph? bi?n v? mô hình t?o ?nh anime s?c nét t? prompt.
* IP-Adapter (Stable Diffusion Image Prompt Adapter): plugin cho Stable Diffusion cho phép dùng hình ?nh tham chi?u nhu prompt. Nó có th? sao chép phong cách, b? c?c ho?c khuôn m?t t? ?nh tham chi?u[3]. Ví d?, IP-Adapter Anime trên HuggingFace (r3gm/ip-adapter-anime) cho phép gi? nh?n d?ng nhân v?t trong ?nh anime khi ch?nh s?a. Công c? này ho?t d?ng gi?ng DALL-E 3 hay Midjourney khi dùng ?nh thay vì ch? text, giúp gi? nguyên d?c trung nhân v?t g?c.
* Stable Diffusion Reference-Only Pipeline (Apache-2.0): Mô hình "Reference-Only" trên GitHub cho phép ch?nh s?a ?nh anime d?a trên ?nh m?u (style transfer, tô màu tranh nét). Ðây là "mô hình t?ng quát cho tái ch? (secondary painting)"[4]. Gói cài d?t (Apache-2.0) có s?n Demo trên HuggingFace Spaces, h? tr? các tác v? nhu chuy?n phong cách, tô màu tranh line-art... Ví d?, m?u "Automatic Coloring 0.1.2" du?c hu?n luy?n 850.000 bu?c trên ?nh anime[5]. Ngu?i dùng có th? upload ?nh m?u và ?nh khung s?n (line-art, blueprint) d? t?o ?nh m?i gi? dúng style và b? c?c g?c. (License: Apache-2.0[6].)
* Mô hình da phong cách anime: Ngoài Waifu, nhi?u mô hình fine-tune cho các phong cách c? th?. Ví d?, Ghibli-Diffusion (HuggingFace, CreativeML OpenRAIL-M) h?c theo hình ?nh phim ho?t hình Studio Ghibli[7]. Ð? t?o ?nh Shonen, Moe, CG hay Realistic, có th? s? d?ng các model anime c?ng d?ng (Waifu, AnythingV4, AOM3, novelAI leaked models, v.v.). Ví d? Ghibli-Diffusion yêu c?u dua t? khoá "ghibli style" trong prompt d? t?o hi?u ?ng tuong ?ng[7]. Các mô hình này thu?ng du?c c?p phép t? do (OpenRAIL) cho phép s? d?ng r?ng rãi mà không b? ki?m duy?t n?i dung[8].
* H? tr? n?i dung NSFW/R18: T?t c? các mô hình k? trên d?u có gi?y phép m? (OpenRAIL ho?c GPL/Apache) cho phép t?o ra hình ?nh NSFW mà không b? ch?n b?i co ch? c?a nhà phát tri?n. Ví d?, Waifu và Ghibli-Diffusion d?u dùng CreativeML OpenRAIL-M cho phép s? d?ng và phân ph?i ?nh t?o ra mà không gi?i h?n n?i dung (ngo?i tr? các quy d?nh chung v? vi ph?m pháp lu?t)[2][8]. Khi t? tri?n khai, công c? có th? t?t b? l?c an toàn d? h? tr? hoàn toàn n?i dung R18.
* Ði?u khi?n ?nh nâng cao (ControlNet, IP-Adapter, InstantID):
* ControlNet: Các checkpoint chính th?c c?a Stability AI (OpenRAIL-M) cung c?p các ch? d? di?u khi?n b? sung nhu openpose (tu th?), segmentation (phân vùng) hay scribble (v? tay)[9]. Ví d?, model sd-controlnet-openpose dùng map xuong OpenPose d? b?t nét tu th? nhân v?t. ControlNet cho phép duy trì pose/bi?u c?m g?c b?ng cách truy?n thêm ?nh di?u ki?n vào pipeline[10]. (License ControlNet: OpenRAIL-M[11].)
* IP-Adapter: Nhu trên, IP-Adapter giúp gi? d?c trung khuôn m?t ho?c phong cách t? ?nh g?c khi thêm prompt ch?. Phiên b?n IP-Adapter Anime (r3gm) và IP-Adapter Plus cho nét m?t cho phép ki?m soát ch?t hình anime ban d?u mà không c?n hu?n luy?n thêm. Xem hu?ng d?n v? cách dùng IP-Adapter trong Automatic1111 ho?c ComfyUI d? tích h?p vào pipeline ch?nh s?a ?nh.
* InstantID (Apache-2.0): Ðây là nghiên c?u m?i cho phép gi? nh?n d?ng khuôn m?t t? m?t ?nh m?u duy nh?t. Mô-dun InstantID (b?n thân open source Apache-2.0[12]) tích h?p v?i Stable Diffusion và ControlNet, cho phép t?o ?nh tùy ý mà v?n gi? du?c guong m?t/thân ph?n tham chi?u[13]. M?c dù InstantID ch? y?u hu?ng d?n ?nh chân dung, phuong pháp này có th? áp d?ng d? gi? nét khuôn m?t anime.
* Hu?n luy?n LoRA t? ?nh anime: Công c? nên h? tr? t?o LoRA (Low-Rank Adaptation) d? h?c t? b? suu t?p ?nh c?a ngu?i dùng. Các framework nhu HCP-Diffusion (Apache-2.0[14]) cung c?p hu?ng d?n hu?n luy?n LoRA cho nhân v?t anime, k?t h?p DreamBooth ho?c Textual Inversion (embedding) v?i LoRA d? ?n d?nh phong cách khi sinh ?nh[15]. Mô hình LoRA giúp b? sung kh? nang tùy ch?nh phong cách b?ng cách hu?n luy?n nhanh trên t?p ?nh riêng. A1111 WebUI và ComfyUI d?u có extension cho hu?n luy?n LoRA tích h?p.
* Giao di?n Web/?ng d?ng: Ð? ngu?i dùng d? thao tác, có th? dùng các giao di?n n?i ti?ng:
* AUTOMATIC1111 Web UI (AGPL-3.0): Web UI ph? bi?n cho Stable Diffusion trên Windows/Linux. H? tr? Img2Img, inpainting, ControlNet, LoRA training. (Code AGPL-3.0.)
* ComfyUI (GPLv3): Giao di?n d?a trên node/flowchart, h? tr? SD và nhi?u phuong pháp m? r?ng (DreamBooth, ControlNet, LoRA). (Mã ngu?n GPLv3[16].)
* Fooocus (GPLv3): ?ng d?ng chuyên cho anime, thân thi?n, có b?n mi?n phí mã ngu?n m? (GPLv3[17]) và phiên b?n thuong m?i. Tích h?p s?n các mô hình anime và preset.
* Khác: Có th? t? d?ng UI custom trên n?n t?ng web ho?c desktop (ví d? dùng Gradio/Flask) d?a trên các pipeline trên. HuggingFace Spaces cung cho phép t?o demo nhanh (nhu Reference-Only pipeline[18]).
Ngu?n tham kh?o: Waifu Diffusion (GitHub)[1][2]; IP-Adapter (hu?ng d?n trên Stable Diffusion Art)[3]; Stable Diffusion Reference-Only pipeline (GitHub)[4][6]; Ghibli-Diffusion (HuggingFace)[8]; InstantID (báo cáo và GitHub)[13][12]; ControlNet (HuggingFace)[11][9]; HCP-Diffusion LoRA tutorial[15]; HCP-Diffusion (Apache-2.0)[14]; thông tin b?n quy?n GPL/GPLv3 t? trang chính th?c c?a ComfyUI[16] và Fooocus[17]. Các liên k?t này và tài li?u hu?ng d?n cung c?p thêm chi ti?t v? cách s? d?ng và demo c?a các mô hình nêu trên.

[1] [2] GitHub - harubaru/waifu-diffusion: stable diffusion finetuned on weeb stuff
https://github.com/harubaru/waifu-diffusion
[3] IP-Adapters: All you need to know - Stable Diffusion Art
https://stable-diffusion-art.com/ip-adapter/
[4] [5] [6] [18] GitHub - aihao2000/stable-diffusion-reference-only: [Arxiv 2023] img2img version of stable diffusion. Line Art Automatic Coloring. Anime Character Remix. Style Transfer.
https://github.com/aihao2000/stable-diffusion-reference-only
[7] [8] nitrosocke/Ghibli-Diffusion · Hugging Face
https://huggingface.co/nitrosocke/Ghibli-Diffusion
[9] [10] [11] lllyasviel/sd-controlnet-depth · Hugging Face
https://huggingface.co/lllyasviel/sd-controlnet-depth
[12] GitHub - instantX-research/InstantID: InstantID: Zero-shot Identity-Preserving Generation in Seconds 
https://github.com/instantX-research/InstantID
[13] InstantID
https://instantid.github.io/
[14] GitHub - IrisRainbowNeko/HCP-Diffusion: A universal Stable-Diffusion toolbox
https://github.com/IrisRainbowNeko/HCP-Diffusion
[15] LoRA Training Tutorial (Anime Characters) - HCP-Diffusion 0.1.0 documentation
https://hcpdiff.readthedocs.io/en/latest/tutorial/lora_anime.html
[16] ComfyUI/LICENSE at master · comfyanonymous/ComfyUI · GitHub
https://github.com/comfyanonymous/ComfyUI/blob/master/LICENSE
[17] Fooocus/LICENSE at main · lllyasviel/Fooocus · GitHub
https://github.com/lllyasviel/Fooocus/blob/main/LICENSE
