# ğŸ¯ QUICK REFERENCE - Advanced Features v1.6.0

## ğŸš€ NEW BUTTONS IN UI

### Left Panel - "CÃ´ng cá»¥ nÃ¢ng cao" Section
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ Batch    â”‚ ğŸ”– Templatesâ”‚
â”‚ Process     â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“œ History  â”‚ âš¡ Quick    â”‚
â”‚             â”‚   Actions   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Results Panel - New "Tools" Tab
```
[Text] [Blocks] [AI Analysis] [Tools] [JSON]
                                  â†‘
                            NEW TAB!
```

---

## ğŸ“¦ BATCH PROCESSING

**Button:** Left panel â†’ "Batch Process"

**Steps:**
1. Click button â†’ Modal opens
2. Select multiple files (max 10)
3. Click "Xá»­ lÃ½ Batch"
4. Wait for results
5. See success/error count

**API:** `POST /api/batch` with multiple files

---

## ğŸ”– TEMPLATES

**Button:** Left panel â†’ "Templates"

**Available Templates:**
- ğŸ“‡ CMND/CCCD (ID Card)
- ğŸ§¾ HÃ³a Ä‘Æ¡n (Invoice)
- ğŸ“„ Há»£p Ä‘á»“ng (Contract)
- ğŸ“‹ ÄÆ¡n tá»« (Application)
- ğŸ’° Báº£ng lÆ°Æ¡ng (Payroll)

**Usage:**
1. Process a document first
2. Click "Templates"
3. Select template type
4. Auto-match document

**API:** `GET /api/templates` + `POST /api/templates/match`

---

## ğŸ“œ HISTORY

**Button:** Left panel â†’ "History"

**Features:**
- View last 100 processed files
- Search by filename or content
- Click to see details
- Clear all history

**Usage:**
1. Click "History"
2. Type in search box (optional)
3. Click any item to view
4. "XÃ³a History" to clear all

**API:** 
- `GET /api/history?limit=20`
- `GET /api/history/search?q=query`
- `POST /api/history/clear`

---

## âš¡ QUICK ACTIONS

**Button:** Left panel â†’ "Quick Actions"

**Available Actions:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§¹ Clean    â”‚ ğŸ” Extract  â”‚
â”‚   Text      â”‚   Info      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¤ Capita   â”‚ ğŸ“Š Line     â”‚
â”‚   lize      â”‚   Numbers   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Clean Text
- Removes duplicate lines
- Fixes spacing issues
- Shows statistics

### Extract Info
- Numbers: `\d+`
- Dates: DD/MM/YYYY
- Emails: xxx@xxx.com
- Phones: 0xxx-xxx-xxx

### Capitalize
- First letter of each sentence

### Line Numbers
- Adds numbered lines

**API:** 
- `POST /api/quick-actions/clean`
- `POST /api/quick-actions/extract`
- `POST /api/quick-actions/format`

---

## ğŸ› ï¸ TOOLS TAB

**Location:** Results panel â†’ "Tools" tab (appears after processing)

**6 Quick Actions in Results:**
1. **Clean Text** - Remove duplicates + fix spacing
2. **Extract Info** - Find numbers, dates, emails, phones
3. **Capitalize** - Capitalize sentences
4. **Line Numbers** - Add line numbers
5. **Remove Duplicates** - Only remove duplicates
6. **Fix Spacing** - Only fix spacing

**Shows result inline** with statistics

---

## ğŸ“‚ FILES MODIFIED

### Backend:
- `app.py` - Added 9 new routes
- `src/utils/advanced_features.py` - NEW FILE (500+ lines)

### Frontend:
- `templates/index.html` - Added modals & tools section
- `static/css/style.css` - Added 350+ lines styles
- `static/js/advanced-features.js` - NEW FILE (600+ lines)

### Data:
- `output/history.json` - AUTO-CREATED on first use

---

## ğŸ¨ CSS CLASSES

### Modals:
- `.modal` - Modal overlay
- `.modal-content` - Modal box
- `.modal-large` - Large modal (batch, history)
- `.modal-header` - Modal header
- `.modal-body` - Modal content
- `.modal-close` - Close button (Ã—)

### Tools:
- `.tools-grid` - 2x2 grid for tool buttons
- `.tool-btn` - Tool button style
- `.tool-action-btn` - Action button in Tools tab
- `.tools-panel` - Tools tab container
- `.tools-result` - Result display

### Batch:
- `.batch-upload-area` - Drag-drop area
- `.batch-files-list` - Selected files list
- `.batch-file-item` - Individual file item
- `.batch-results` - Results display
- `.batch-result-item` - Result item

### Templates:
- `.templates-list` - Template list
- `.template-card` - Template card
- `.template-header` - Card header
- `.template-icon` - Emoji icon

### History:
- `.history-search` - Search bar
- `.history-list` - History list
- `.history-item` - History entry
- `.history-header` - Entry header
- `.history-preview` - Text preview

### Quick Actions:
- `.quick-actions-grid` - 2x2 grid
- `.quick-action-card` - Action card
- `.quick-action-result` - Result display
- `.result-textarea` - Result text area

---

## ğŸ” JAVASCRIPT STRUCTURE

```javascript
class AdvancedFeatures {
    constructor(app) { }
    
    // Modals
    openModal(modalId)
    closeModal(modalId)
    
    // Batch
    handleBatchFiles(event)
    processBatch()
    displayBatchResults(data)
    
    // Templates
    loadTemplates()
    displayTemplates(templates)
    matchTemplate(templateName)
    
    // History
    loadHistory(query)
    displayHistory(items)
    searchHistory(query)
    clearHistory()
    
    // Quick Actions
    executeQuickAction(action)
    displayQuickActionResult(data, action)
    copyQuickActionResult()
    
    // Tools
    executeToolAction(action)
    displayToolResult(data, action)
    switchToToolsTab()
}
```

---

## ğŸ”„ AUTO-FEATURES

### History Auto-Save
Every successful upload automatically saves to history:
```python
processing_history.add_entry({
    'filename': filename,
    'text': result.get('text', '')[:500],
    'document_type': result.get('document_type'),
    'ai_enhanced': ENABLE_AI_ENHANCEMENT
})
```

### Tools Tab Auto-Show
Tools tab appears only when document is processed:
```javascript
if (this.app.currentResult?.text) {
    this.toolsTab.style.display = 'block';
}
```

---

## âš™ï¸ CONFIGURATION

### Limits:
- **Batch max files:** 10 (change in `BatchProcessor.__init__`)
- **History max entries:** 100 (change in `ProcessingHistory.add_entry`)
- **History preview length:** 500 chars (change in history save)

### Storage:
- **History file:** `output/history.json`
- **Format:** JSON array

### Regex Patterns:
- **Numbers:** `\b\d+(?:[.,]\d+)*\b`
- **Dates:** `\b\d{1,2}[/-]\d{1,2}[/-]\d{2,4}\b`
- **Emails:** Standard email regex
- **Phones:** Vietnamese format `(?:\+84|0)(?:\d{9,10}|...)`

---

## ğŸ§ª TEST COMMANDS

### Start Service:
```bash
cd "I:\AI-Assistant\Document Intelligence Service"
.\DIS\Scripts\activate
python app.py
```

### Open in Browser:
```
http://localhost:5003
```

### Test Features:
1. âœ… Upload single file
2. âœ… Check History (should show file)
3. âœ… Try Quick Actions on result
4. âœ… Upload 3 files via Batch
5. âœ… Check Templates
6. âœ… Search History

---

## ğŸ“Š VERSION UPGRADE PATH

**v1.5.0 â†’ v1.6.0**

New features:
- [+] Batch Processing
- [+] Document Templates
- [+] Processing History
- [+] Quick Actions
- [+] Tools Tab

Files changed:
- app.py (+200 lines)
- src/utils/advanced_features.py (+500 lines)
- templates/index.html (+120 lines)
- static/css/style.css (+350 lines)
- static/js/advanced-features.js (+600 lines)

Total: **+1770 lines of code**

---

## ğŸ¯ USAGE PRIORITIES

### Most Used:
1. **Quick Actions** - Fast text processing
2. **History** - Find previous documents
3. **Batch** - Multiple files at once

### Specialized:
4. **Templates** - For specific Vietnamese docs

---

## ğŸš€ READY TO USE!

1. Restart service: `python app.py`
2. Open browser: `http://localhost:5003`
3. See new "CÃ´ng cá»¥ nÃ¢ng cao" section
4. Try each feature!

**All features work with existing OCR + AI pipeline!** âœ…
