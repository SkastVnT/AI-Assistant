# ==============================================================================
# Edit Image Service - Requirements v0.3.0
# ==============================================================================

# Core ML/AI
torch>=2.1.0
torchvision>=0.16.0
torchaudio>=2.1.0

# Diffusion Models
diffusers>=0.25.0
transformers>=4.36.0
accelerate>=0.25.0
safetensors>=0.4.0
omegaconf>=2.3.0

# Image Processing
Pillow>=10.0.0
opencv-python>=4.8.0
numpy>=1.24.0
scipy>=1.11.0

# ControlNet & Adapters
controlnet-aux>=0.0.7

# Face Detection/Recognition (for InstantID/PuLID/IP-Adapter FaceID)
insightface>=0.7.3
onnxruntime-gpu>=1.16.0

# Web Framework
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
python-multipart>=0.0.6
pydantic>=2.5.0
pydantic-settings>=2.1.0

# UI
gradio>=4.10.0

# Configuration
pyyaml>=6.0.1
python-dotenv>=1.0.0

# Utilities
httpx>=0.25.0
aiofiles>=23.2.0
tqdm>=4.66.0
loguru>=0.7.2
rich>=13.7.0

# Image Upscaling
realesrgan>=0.3.0
basicsr>=1.4.2
gfpgan>=1.3.8

# Anime Tagging (optional)
# deepdanbooru>=1.0.0

# Web Search (optional)
beautifulsoup4>=4.12.0
requests>=2.31.0

# Model Hub
huggingface-hub>=0.20.0

# Memory Optimization
xformers>=0.0.23  # Optional, for memory efficiency

# Typing
typing-extensions>=4.8.0

# ==============================================================================
# NEW v0.3.0 Dependencies
# ==============================================================================

# IP-Adapter (Tencent ARC)
# Already included: diffusers, transformers, insightface

# InstantID
# Already included: diffusers, insightface, controlnet-aux

# Inpaint Anything (SAM + LaMa)
segment-anything>=1.0
simple-lama-inpainting>=0.1.0

# LoRA Training
peft>=0.7.0
datasets>=2.16.0
bitsandbytes>=0.42.0  # 8-bit Adam optimizer

# Qwen-Image-Edit / Step1X-Edit
einops>=0.7.0
sentencepiece>=0.1.99

# Anime ControlNet
# Already included: controlnet-aux, diffusers

# Optional: GroundingDINO for text-based segmentation
# groundingdino>=0.1.0

# Optional: MobileSAM for faster segmentation
# mobile-sam>=1.0.0
