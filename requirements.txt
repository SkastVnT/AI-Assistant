# ============================================================================
# AI-Assistant - Unified Requirements
# Last Updated: 2025-12-17
# Description: All dependencies for all services (merged from services/*/requirements.txt)
# Repository: https://github.com/SkastVnT/AI-Assistant
# Python: 3.10.6+ (Recommended: 3.11.x)
# ============================================================================

# ============================================================================
# SERVICES INCLUDED
# ============================================================================
# 1. Hub Gateway            - Main coordinator (Port 3000)
# 2. ChatBot                - Multi-model chatbot (Port 5000)
# 3. Text2SQL               - NL to SQL conversion (Port 5002)
# 4. Document Intelligence  - OCR + AI enhancement (Port 5003)
# 5. Speech2Text            - Vietnamese ASR (Port 5001)
# 6. Stable Diffusion       - Image generation (Port 7860)
# 7. LoRA Training          - Model fine-tuning (Port 7862)
# 8. Image Upscale          - AI upscaling (Port 7863)
# 9. MCP Server             - Model Context Protocol
#
# NOTE: Install PyTorch with CUDA first, then: pip install -r requirements.txt
# ============================================================================

# ============================================================================
# PYTORCH - INSTALL FIRST (Required for most services)
# ============================================================================
# For GPU (CUDA 11.8):
#   pip install torch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 --index-url https://download.pytorch.org/whl/cu118
# For CPU only:
#   pip install torch torchvision torchaudio
# ============================================================================
setuptools<81.0.0
torch==2.6.0
torchvision==0.16.2
torchaudio==2.1.2
numpy>=1.20.0,<2.0.0

# ============================================================================
# WEB FRAMEWORKS
# ============================================================================
flask>=3.0.0
flask-cors>=4.0.0
flask-socketio>=5.3.0
python-socketio>=5.10.0
python-dotenv>=1.0.0
werkzeug>=3.0.0
eventlet>=0.33.0
fastapi>=0.94.0
uvicorn>=0.20.0
python-multipart>=0.0.6
gradio>=3.0.0
watchdog>=2.0.0

# ============================================================================
# AI APIs & MODELS
# ============================================================================
openai>=1.0.0
pydantic>=2.0.0,<3.0.0
google-genai>=0.2.0
transformers>=4.41,<4.50
accelerate>=0.27.0
sentencepiece>=0.2.0
safetensors>=0.4.0
huggingface-hub>=0.21.4
peft>=0.4.0
datasets>=2.14.0
protobuf>=3.20.0,<=3.20.2
omegaconf>=2.3.0
sentence-transformers>=2.2.2
diffusers>=0.21.0
open-clip-torch>=2.20.0
timm>=0.9.0

# ============================================================================
# DATABASE & CACHING
# ============================================================================
pymongo>=4.6.0
dnspython>=2.4.0
redis>=5.0.0
clickhouse-connect>=0.7.7

# ============================================================================
# SPEECH & AUDIO (Speech2Text Service)
# ============================================================================
faster-whisper==1.0.3
pyannote.audio==3.1.1
speechbrain>=1.0.0
pyannote.core>=5.0.0
pyannote.database>=5.0.0
pyannote.metrics>=3.2.0
pyannote.pipeline>=3.0.0
librosa==0.10.1
soundfile==0.12.1
audioread==3.0.1
av>=12.0.0
scipy>=1.11.0
pydub>=0.25.1

# ============================================================================
# IMAGE & DOCUMENT PROCESSING
# ============================================================================
Pillow>=10.3.0
opencv-python>=4.8.1.78  # Security fix: GHSA-qr4w-53vh-m672 (HIGH severity)
paddleocr==2.7.3
paddlepaddle==2.6.2
PyMuPDF==1.23.8
scikit-image>=0.19.3
basicsr>=1.4.2
facexlib>=0.2.5
gfpgan>=1.3.5
realesrgan>=0.3.0
einops>=0.4.0
lpips>=0.1.4
resize-right>=0.0.2
piexif>=1.1.3
blendmodes>=2022.0.0
kornia>=0.7.0
tomesd>=0.1.3
lark>=1.1.5
inflection>=0.5.1
pytorch_lightning>=2.0.0
torchdiffeq>=0.2.3
torchsde>=0.2.5
clean-fid>=0.1.35

# ============================================================================
# DATA PROCESSING & SCIENCE
# ============================================================================
pandas>=2.0.0
scikit-learn>=1.3.0
sqlparse>=0.4.4
openpyxl>=3.1.0
albumentations>=1.3.0

# ============================================================================
# UTILITIES & CLI
# ============================================================================
tqdm>=4.65.0
colorama>=0.4.6
rich>=13.7.0
pyyaml>=6.0.0
jsonschema>=4.17.0
jsonmerge>=1.9.0
requests>=2.31.0
aiofiles>=23.0.0
GitPython>=3.1.0
filelock>=3.12.0
psutil>=5.9.0

# ============================================================================
# OPTIMIZATION
# ============================================================================
xformers==0.0.23.post1

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
tensorboard>=2.13.0
wandb>=0.15.0

# ============================================================================
# MODEL CONTEXT PROTOCOL (MCP Server)
# ============================================================================
mcp[cli]>=1.0.0
httpx>=0.27.0
anyio>=4.0.0
starlette>=0.27.0

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================
pytest>=7.4.0
pytest-cov>=4.0.0
pytest-mock>=3.10.0
black>=23.0.0
flake8>=6.0.0
isort>=5.12.0
mypy>=1.8.0

# ============================================================================
# INSTALLATION GUIDE
# ============================================================================
#
# OPTION 1: Full Development Setup (All Services)
# ---------------------------------------------------------------
# 1. Create virtual environment:
#    python -m venv .venv
#
# 2. Activate:
#    Windows: .\.venv\Scripts\activate
#    Linux/Mac: source .venv/bin/activate
#
# 3. Install PyTorch with CUDA (GPU):
#    pip install torch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 --index-url https://download.pytorch.org/whl/cu118
#
#    OR PyTorch CPU only:
#    pip install torch torchvision torchaudio
#
# 4. Install all dependencies:
#    pip install -r requirements.txt
#
# 5. Setup environment:
#    cp .env.example .env
#    # Edit .env with your API keys
#
# 6. Start services:
#    python scripts/hub.py
#
# OPTION 2: Per-Service Setup (Production/Minimal)
# ---------------------------------------------------------------
# Each service has its own requirements.txt:
#    cd services/chatbot
#    pip install -r requirements.txt
#
# ============================================================================
# SYSTEM REQUIREMENTS
# ============================================================================
# - Python 3.10.6+ (3.11 recommended)
# - GPU: NVIDIA with CUDA 11.8, 6GB+ VRAM (8GB+ recommended)
# - RAM: 16GB minimum, 32GB recommended
# - Storage: 50GB+ free space (for models)
# - OS: Windows 10/11, Linux, macOS
#
# ============================================================================
# SERVICE PORTS
# ============================================================================
# - Hub Gateway:            http://localhost:3000
# - ChatBot:                http://localhost:5000
# - Speech2Text:            http://localhost:5001
# - Text2SQL:               http://localhost:5002
# - Document Intelligence:  http://localhost:5003
# - Stable Diffusion:       http://localhost:7860
# - LoRA Training:          http://localhost:7862
# - Image Upscale:          http://localhost:7863
# - MCP Server:             stdio (via Claude Desktop)
#
# ============================================================================
