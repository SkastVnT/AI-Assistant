# Production Environment Configuration Template
# Copy to .env.production and update values

# ============================================================
# DATABASE CONFIGURATION
# ============================================================

# PostgreSQL Database
DATABASE_URL=postgresql://postgres:SecurePassword123!@localhost:5432/ai_assistant
POSTGRES_USER=postgres
POSTGRES_PASSWORD=SecurePassword123!
POSTGRES_DB=ai_assistant
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Connection Pool Settings (Production-optimized)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# Database Features
DB_ECHO=false  # Set to true for SQL logging in debug
DB_POOL_PRE_PING=true  # Verify connections before use

# ============================================================
# REDIS CONFIGURATION
# ============================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=SecureRedisPassword456!
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Cache TTL Settings (seconds)
CACHE_USER_TTL=3600  # 1 hour
CACHE_CONVERSATION_TTL=1800  # 30 minutes
CACHE_MESSAGE_TTL=1800  # 30 minutes
CACHE_MEMORY_TTL=7200  # 2 hours

# ============================================================
# PERFORMANCE MONITORING
# ============================================================

# Query Logging
SLOW_QUERY_THRESHOLD=1.0  # Log queries slower than 1 second
LOG_ALL_QUERIES=false  # Set to true for debugging
ENABLE_QUERY_MONITORING=true

# Performance Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================================
# BACKUP CONFIGURATION
# ============================================================

BACKUP_DIR=./database/backups
BACKUP_KEEP_COUNT=7  # Keep last 7 backups
BACKUP_COMPRESS=true
BACKUP_VERIFY=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM (cron format)

# Optional: S3 Backup Upload
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret
# AWS_S3_BUCKET=ai-assistant-backups
# AWS_S3_REGION=us-east-1

# ============================================================
# APPLICATION SETTINGS
# ============================================================

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Security
SECRET_KEY=your-super-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
SESSION_SECRET=your-session-secret-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# CORS Settings
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================
# API CONFIGURATION
# ============================================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Google Gemini
GOOGLE_API_KEY=your-google-api-key
GEMINI_MODEL=gemini-pro
GEMINI_TEMPERATURE=0.7

# Anthropic Claude
ANTHROPIC_API_KEY=your-anthropic-api-key
CLAUDE_MODEL=claude-3-opus-20240229

# ============================================================
# SERVICE PORTS
# ============================================================

# Hub Gateway
HUB_PORT=3000

# ChatBot Service
CHATBOT_PORT=5000
CHATBOT_HOST=0.0.0.0

# Document Intelligence Service
DOCINT_PORT=5001

# RAG Service
RAG_PORT=5002

# Speech2Text Service
SPEECH_PORT=5003

# Text2SQL Service
TEXT2SQL_PORT=5004

# Stable Diffusion Service
SD_PORT=7860

# ============================================================
# LOGGING CONFIGURATION
# ============================================================

LOG_DIR=./logs
LOG_FILE=ai-assistant.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_FORMAT=json  # json or text

# Sentry Error Tracking (Optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================
# DOCKER CONFIGURATION
# ============================================================

# Compose Project Name
COMPOSE_PROJECT_NAME=ai-assistant

# Container Resource Limits
POSTGRES_MEMORY_LIMIT=2g
POSTGRES_MEMORY_RESERVATION=1g
REDIS_MEMORY_LIMIT=512m
REDIS_MEMORY_RESERVATION=256m

# ============================================================
# HEALTH CHECK CONFIGURATION
# ============================================================

HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ============================================================
# FEATURE FLAGS
# ============================================================

# Database Features
DATABASE_ENABLED=true
CACHE_ENABLED=true

# AI Features
ENABLE_CHATBOT=true
ENABLE_DOCUMENT_INTELLIGENCE=true
ENABLE_RAG=true
ENABLE_SPEECH_TO_TEXT=true
ENABLE_TEXT_TO_SQL=true
ENABLE_STABLE_DIFFUSION=false  # Disable if no GPU

# ============================================================
# PGADMIN CONFIGURATION
# ============================================================

PGADMIN_EMAIL=admin@aiassistant.local
PGADMIN_PASSWORD=ChangeMe123!
PGADMIN_PORT=5050

# ============================================================
# DEVELOPMENT/DEBUG SETTINGS
# ============================================================

# Set these to true ONLY in development
FLASK_DEBUG=false
SQLALCHEMY_ECHO=false
WERKZEUG_DEBUG_PIN=off

# ============================================================
# NOTES
# ============================================================

# Security Checklist:
# - [ ] Change all default passwords
# - [ ] Set strong SECRET_KEY values
# - [ ] Update ALLOWED_HOSTS for your domain
# - [ ] Configure CORS_ORIGINS correctly
# - [ ] Enable HTTPS in production
# - [ ] Set up firewall rules
# - [ ] Enable database backups
# - [ ] Configure monitoring/alerting
# - [ ] Review rate limiting settings
# - [ ] Secure API keys

# Performance Checklist:
# - [ ] Tune DB_POOL_SIZE for your workload
# - [ ] Adjust cache TTL values
# - [ ] Monitor slow query logs
# - [ ] Set up connection pooling
# - [ ] Enable query monitoring
# - [ ] Configure Redis memory limits
# - [ ] Review container resource limits

# Production Checklist:
# - [ ] Set ENVIRONMENT=production
# - [ ] Disable DEBUG mode
# - [ ] Set LOG_LEVEL=INFO or WARNING
# - [ ] Enable health checks
# - [ ] Configure automated backups
# - [ ] Set up log rotation
# - [ ] Enable error tracking (Sentry)
# - [ ] Configure monitoring
# - [ ] Test disaster recovery
